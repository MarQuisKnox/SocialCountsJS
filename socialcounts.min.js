/*! SocialCountsJS / @author: Seon-Wook Park / @license: LGPLv3 */
(function(){var t=/^[htfps]+:\/\/.*/,e="http://swook.github.io/SocialCountsJS/socialcounts.xml",n="socialcounts_receiver",o="http://query.yahooapis.com/v1/public/yql?q=USE%20%27",u="%27%3B&format=json&callback="+n,r=[];o+=encodeURIComponent(e)+"%27%20AS%20tbl%3B%20SELECT%20*%20FROM%20tbl%20WHERE%20url%3D%27";window.socialcounts=function(){var e,n;if(typeof arguments[0]=="function"){e=document.location.href;n=arguments[0]}else if(typeof arguments[0]=="string"&&typeof arguments[1]=="function"){e=arguments[0];n=arguments[1]}else{console.error("socialcounts: invalid input parameters.");return}if(!t.test(e))e="http://"+e;var s=document.createElement("script"),i=new Date;s.type="text/javascript";s.id="sc"+i.getTime()+"_"+Math.round(Math.random()*1e6);s.src=o+encodeURIComponent(e)+u;document.body.appendChild(s);r.push({url:e,func:n,sel_id:s.id,subt:i,trial:1})};window[n]=function(t){if("query"in t&&"results"in t.query){var e=t.query.results.result;for(var n in e.counts){e.counts[n]=parseFloat(e.counts[n])}var o=null,u=r.length;for(var s=0;s<u;s++){o=r.pop();if(e.url!=o.url){r.push(o);continue}document.body.removeChild(document.getElementById(o.sel_id));o.func(e)}}}})(null);